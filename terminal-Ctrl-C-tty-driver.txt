| terminal
| console
| Ctrl+c
| Ctrl+c

если мы сидим в теримнмле и тыкаем какую нибудь кнопку вместе с Ctrl
например 

  Ctrl+c или Ctrl+m

и видим на экране терминала символы 

  ^M
  ^C

это значит то что tty драйвер терминала настроен
в режиме echoctl
это значит что если от клавы нашего терминала 
летит в драйвер tty байт код  в пределах 0x00-0x1F
то наш драйвер tty обратно в терминал шлет не этот 
байт код а шлет вместо эттго два смивола первый
это ^ а второй это такой символ который получается
по формуле    

     N OR 0x40

где N это тот байт который прилеетел с клавы нашего
терминала в tty driver. 

например с нашей клавы влетел в tty driver байт  0x0D
тогда вычисляем

 0x0D OR 0x40 =   0000 1101
                  0100 0000
                  ------------
                  0100 1101    = 0x4D

значит tty deriver ообртано на терминал пошлет
два символа  ^ 0x4D = ^M  эти два символы мы и видим.

тут еще надо добавить как  драйвер терминала обрабатывает нажатие клавиш вместе с Ctrl
напрмиер Ctrl+с
он берет кнопку которая была нажата ееный байт
и к нему прмиеняет операцию 


   N AND 0x1F

и то что получит то драйвер терминала и шлет в 
tty driver.
тоест 

  c = 0x63 = 0110 0011

c AND 0x1F =  0110 0011
              0001 1111
              ----------
              0000 0011 = 0x03

вот этот 0x03 драйвер теминала и пошлет в tty drvier.
тот его получит и так как 0x03 принадллежит диапазону
0x00-0xFF то он обработывает этот байт по правилу
что я указал выше

        0x03 OR 0x40 = 0000 0011
                       0100 0000
                       ------------
                       0100 0011    = 0x43

и пошлет обратно на терминал 0x43 
и пошлет оратно на терминал два символа


      ^ 0x43  = ^C

что мы и видим в дисплеет терминала когда нажимаем
Ctrl+C

охренеть как это рабоатет 


ДАЛЕЕ. 
здесь  я затонул важную тему.
а именно. мы тыкаем на кнопки на клаве. 
их както обраывает драйвер клавы. и потом передает 
драйвер терминала который их тоже както обрабывает
и потом он шлет чтото в tty driver


клава --- драйвер клавы -- tty driver 

так вот мне стало интеерсно а какой байт код
прилетает в tty driver если я на клаве тыкаю
кноку Enter. было три варианта


     CR (0x0D)
     LF (0x0A)
     CR LF (0X0D 0x0A)


прикол в том что узнать это можно только в случае
если драйвер tty в ответ на это нам отправит
в точности тот же байт который он получил без 
изменений. для этого нужно устаноавит вот такие
настройки на tty дрпайвере


  # stty --file=/dev/tty2  -inlcr -icrnl

вот что про них написано в man termios

INLCR  Translate NL to CR on input.

ICRNL  Translate carriage return to newline on input (unless IGNCR is set).

таким образом если tty driver прилетит CR или LF
он в точности пошлет обратно на терминал именнр
тоже самое. ну а дальше смотрим на монитор как у нас
себя вдеет курсов. 

если в терминал прилетит CR байт то курсор перескочит
на одну строку вниз И он пеерскочит в начало этой
строки. если же в терминал влетит LF то у нас
курсок перескочит на одну строку вниз и при этом 
он останется в той же координате X что у него и была.
так я выяснил что при нажатии на Enter в дравер tty
из терминала прилетает CR !!!!

