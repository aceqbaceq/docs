tap порт на компе без включения в состав бриджа. он входит в одиг домен с l2 поратми
которые входят в состав других бириджей? по момему вроде как нет. 


промиск моде на порт компа и на порте свича. как рабоатают? на свиче порт ставоится хабовым
в него свич соивает все пакеты (копрует) что влетели со всех портов.

когда я сменил тип видеокарты на qemu у меня комп стал успешно уходит в суспенд при
вкоюченной вм

===
vlan

тегованный valn пробвать примеры на компе


еще задача - создаь tap интрейс. навесить 
на него ip адрес . выдать его виртуалке
и проверить что виртуалка через него может 
через роутинг выходить в сеть.
это ксати докажет что tap это не l2 инфтрейс а 
l2+l3


===
802.3ad

по этой хрени нет никааого толквоого описания

хотя это типа откртый стаднарта ieee

но вместо этого можно найти вроде как раотает
LACP который имеет такой же смысл но типа  закрытый
стандарт от cisco

по качто ни по lacp ни по 802.3ad не могу 
найти номрльного опин=сания
===========
закончил вот на чем

0. у меня на кхосет стаояло сразу и nftables и  iptables. это аздпц
1. у меня получилось получить логи из чужого неймспейса
через 

	net.netfilter.nf_log_all_netns = 1


2. есь такая хуня

# cat /proc/net/netfilter/nf_log 
 0 NONE (nfnetlink_log)
 1 NONE (nfnetlink_log)
 2 nfnetlink_log (nf_log_ipv4,nfnetlink_log)
 3 nf_log_arp (nf_log_arp,nfnetlink_log)
 4 NONE (nfnetlink_log)
 5 nf_log_netdev (nf_log_netdev,nfnetlink_log)
 6 NONE (nfnetlink_log)
 7 nf_log_bridge (nf_log_bridge,nfnetlink_log)
 8 NONE (nfnetlink_log)
 9 NONE (nfnetlink_log)
10 nf_log_ipv6 (nf_log_ipv6,nfnetlink_log)


на iptabes она невлиет. она якобы ыливетс толко на nftabels
еслиу нас приавло логирование неимеетгрупппы

	ip protocol icmp log


то тогда ядро логирует лог через модуль котрй укаазан перед скобкой.

 2 nfnetlink_log (nf_log_ipv4,nfnetlink_log)

 число слева это группа проткоолов трафика.  2 это ipv4


а если правило логированеия имеет группу
		ip protocol icmp log group 1
то якобы на астройку свеху уэе похуй и всегда юзается модуль  nfnetlink_log


 
вот этот модуль nf_log_ipv4 он логирует в ядро. в его кернел ринг. который огранчиенный по
размеру и оэтому перетирвается и чтеие из него через /dev/kmsg
а модуль nfnetlink_log  он логиурет в буфер но мелкий и из него можно читать через сокет


3. на счет логирования пинга через четыре tun сет карточки то пока мне непоучилось 
трафик прогнать через них. путму что ядро сразу просто шлет пакет на lo  

4. еще я научилися работать с ulogd

5. xtables -j NFLOG

6. прикол
 $ cat /lib/modules/6.11.11-1-MANJARO/build/include/net/netfilter/nf_log.h | grep sysctl
/* sysctl_nf_log_all_netns - allow LOG target in all network namespaces */
extern int sysctl_nf_log_all_netns;

 # sysctl  -a | grep netns
net.netfilter.nf_log_all_netns = 0


===========
останвоисяна том что у меня две вирт
карты.одна это клиента вторая это AP
надо заупмти АП и попробовать покоднектится 
с телефона!

вот такая хуйня
RTNETLINK answers: Name not unique on network.
при поытке поднять порт. это потому что у меня
два порта с одним маком суки. меняй мак и будет
щастье

====
