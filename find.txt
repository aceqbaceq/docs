| find

у меня есть большая статья про find
но этот кусочек я запишу отдельно так как тот 
файл щас нелья редаактровать.

есть интересный пример
# find / -xdev -printf "%h\n" | sort | uniq -c | sort -k1 -n | tail
    715 /usr/lib/x86_64-linux-gnu
    803 /usr/share/python-babel-localedata/locale-data
    915 /usr/share/bash-completion/completions
    984 /usr/share/man/man8
   1109 /usr/bin
   1182 /usr/share/man/man1
   1503 /usr/src/linux-headers-6.8.0-31/include/linux
   2100 /usr/share/man/man3
   2997 /var/lib/dpkg/info
   9567 /usr/src/linux-headers-6.8.0-31-generic/include/config

эта штука она находит папку в которой больше всего прописано
файлов и папок. 
изначально вопрос звучит так найти папку которая в себе содержит 
больше всего инодов.  тоесть если мы с этой папки удалим все файлы
то мы освободим на ФС дохрена инодов.

-xdev = означает что лазить только по данной ФС
-printf "%h\n" = вобще  find он работает так. он находит какой то путь а далее
по дефолту он через опцию -print выводит этот путь на экран. но мы можем поменять
что нуно делать find с тем что он нашел. в данном случае через %h мы ему говоим
чтобы он в найденном пути оотрезал имя файла и оставил только имя папки.
кстати -printf это чисто фича find. она неиммеет отгшения к printf утилите.
так вот таким обоаом мы полуичим на экране для каждого найеннного пути 
не в виде 
    /папка1/папка2/file1
а в виде 
    /папка1/папка2/
это нам даст то что на экране будет только список папок но прикол в том что
каждая строчка заней стоит либо файл либо папка. 
например елси у нас три файла в папке 
	/tmp/1.txt
	/tmp/2.txt
	/tmp/3.txt
то на экране мы полчим
	/tmp/
	/tmp/
	/tmp/
спрашивается а какой смысл от такой хрени? 
а смысл вот какой
если мы добавим
	sort | uniq -c
то мы эти строки упорядочим и  uniq -c дает то что он на на экране оставит
толко укникальыне нвазния папок но рядом с кажой папкой будет написано стколько
таких было строк. а это нам дает то что значит в этой папке было столко файлов!
(или подпапок).
а это в свою очередь дает ответ на вопрос в какйо папке у нас больше всего
файлов напихано!

эта хрент
	sort -k1 -n
дтае то что вывод будет упорядочен по первому столбику.

в итоое полуичм ткой вывод
    715 /usr/lib/x86_64-linux-gnu
    803 /usr/share/python-babel-localedata/locale-data
    915 /usr/share/bash-completion/completions
    984 /usr/share/man/man8
   1109 /usr/bin
   1182 /usr/share/man/man1
   1503 /usr/src/linux-headers-6.8.0-31/include/linux
   2100 /usr/share/man/man3
   2997 /var/lib/dpkg/info
   9567 /usr/src/linux-headers-6.8.0-31-generic/include/config

приколльно

если надо срочно выделить инодов на диске то понятно где разгулсятся!


| find

как посчитаь обьем файлов *.txt в папке 

find ./photos/john_doe -type f -name '*.jpg' -exec du -ch {} + | grep total$

взял в отсюда 

    https://unix.stackexchange.com/questions/41550/find-the-total-size-of-certain-files-within-a-directory-branch
    

    