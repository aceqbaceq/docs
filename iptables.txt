вощникает вопрос как понять какой пакет попадает на INPUT?
как это понять. нам говорят так - мол в INPUT идут пакеты которые
предназначены для локальных процессов. а как это пнять на практике?

а вот как.


у нас на компе в нашем базовом неймспейсе сидят карты


eth0
br0
docker0
eth1
wls2p0

эти карты имеют IP

eth0=IP1
br0=IP2
docker0=IP3
eth1=IP4
wls2p0=IP5


важно что все эти карты и их IP лежат в нашем базовом неймспейсе.

и процессы сидят в нашем сетеовом неймспейсе и они слущают сокеты

IP1:3000 = nginx
IP2:8181 = mysql

итд.

вот она связь между локальными процессами и этими же процессами в плане IP:port

таким образом если пакет предназначен для IP1, IP2, IP3, IP4 то для iptables
означает что пакет надо сунуть в INPUT.
local process на картинках с iptables  это в разрезе iptables это ничто иное 
как сетевой сокет IP:port где IP - это ip который лежит в сетевом неймспейсе 
процесса init. вот что это!!! итак local process это не процесс а IP 
который лежит в сетевом неймспйсе  процесса init.




а вот за docker0 скажем сидит часть сетвых карточек в другом неймспейсе что если 
пакет предназчен для карточек в тех неймсейсах - в какой цепочку сунет iptables такой пакет - ответ 
в цеопчку FORWARD. потмоу что dest IP лежит вне нашего неймспейса.

а вот предположим в том забриджером конейтнрном неймспейсе родитлся пакет и через veth0 он прровался в наш неймспейс. вопрос в какую цепочку сунет его iptables ?  если на 8.8.8.8 то в цепочку FORWARD 
если в IP от docker0 то это INPUT
ели в IP br0 то это INPUT
если в IP который сидит за br0 в другом неймспейсе то это FORWARD
---
