| TOE 
| TSO 
| ethtool
| "TCP segmentation offload"

значит у нас получается какая схема. у нас в ядре лежит сокет. в нем байты которые нужно
отправить в сеть. так вот по дефолту у нас tcp драйвер берет байты из сокета. потом
он их превраается в tcp пакет потом в ip пакет. потом он этот ip пакет сует в буфер 
в памяти называемый qdisc а точнее "root qdisc". далее другой кусок кода ядра берет 
из этой очереди ip пакеты (он их выбирает используя разные алогоритмы , они называются 
дисциплины) и сует уже в driver queue. оттуда их забирает драйвер сет карты и сует уже 
в сет карту. так вот процесс превращения байтов из сокета в ip пакет это процесс утомительный
в вики написано что чтобы переделать  1bit данных из сокета в 1бит в составе tcp+ip пакета
нужен 1Гц процессора. поэтому мощная сетевая карта может выжрать несколько ядре цпу. 
поэтому начали придумывать способы как хотя бы часть операций по превращаению байтов из сокета
в ip пакет сделать за счет сетевой карты. виды этих ускорялок описаны тут

	https://en.wikipedia.org/wiki/TCP_offload_engine#Large_send_offload


например одна из ускорялок назыается "TCP segmentation offload"
она заключается в том что ядро изготваливает один большой пакет TCP+IP и передает его 
в карту с пометкой что его надо переразбить на новые tcp+ip пакеты с таким то заданным mss.
и карта сетевая делает эту грязную работу.

так вот как это все посмтреть и поменять. 
для этого есть утилита 

	ethtool

причем она умеет по крайней мере показывать текущее состояние даже для wifi карточек.

# ethtool -k wlp2s0
Features for wlp2s0:
rx-checksumming: off [fixed]
tx-checksumming: on
	tx-checksum-ipv4: off [fixed]
	tx-checksum-ip-generic: on
	tx-checksum-ipv6: off [fixed]
	tx-checksum-fcoe-crc: off [fixed]
	tx-checksum-sctp: off [fixed]

если [fixed] это значит что данную фичу нельзя помнеть толесть ее карта не поддеживает.


далее есть вот такая инфо о карточке

	$ sudo ethtool -g enp0s3
	Ring parameters for enp0s3:
	Pre-set maximums:
	RX:		256
	TX:		256
	Current hardware settings:
	RX:		256
	TX:		256

что это такое. 


ссылки
https://www.baeldung.com/linux/tcp-offload-disable




