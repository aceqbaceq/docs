| systemd pid

если мы пишем команду
	$ systemctl status $pid
например 
	$ systemctl status 2345

вопрос - а что он покажет. если под этим пидом рабоатет service то понятно
что покажут статус этого юнита. а если это просто какойто пид например баша.
в man systemctl написано что она покажет состояние того юнита который его породил. короче
мы берем процесс и смотрим его дерево 
	 $ pstree -Asptl 25170
systemd(1)---systemd(2690)---gnome-terminal-(4423)---bash(27478)---bash(24749)---bash(24785)---bash(24896)---bash(24944)---bash(24972)---bash(25005)---bash(25170)
и вот мы берем проесс 25170 он является юнитом ? нет. тогда мы берем его парента
он является юнитом ? нет. и так мы поднимаемся наверх до того момента когда нам
непопдается процесс который яялется юнитом . его статус и будет показан.
также из systemctl status pid видно что все процессы которые были порождены (пускай и через посре
дников ) неким юниом то они все лежат в одной cgroup
и вот пример. в убунтте есть процесс

$ ps aux | grep pulse
vasya     4108  0.6  0.0 1592404 8420 ?        Sl   мая02 244:09 /usr/bin/pulseaudio --start --log-target=syslog

ищем какой юнит "породил" этот процесс

● session-c2.scope - Session c2 of user vasya
   Loaded: loaded (/run/systemd/transient/session-c2.scope; transient)
Transient: yes
   Active: active (running) since Thu 2024-05-02 21:56:43 +06; 3 weeks 5 days ago
    Tasks: 1955
   CGroup: /user.slice/user-1000.slice/session-c2.scope
...
...
...
          ├─ 4108 /usr/bin/pulseaudio --start --log-target=syslog


это не о том что этот процесс является этим юнитом. нет. это значит что какойто парент парента
парента является юнитом session-c2.scope

тоесть у убунты процесс отвечающий за управление музыкой  не запускается юнитом. он запускается
одним из процессов который где то наверху порожден юнитом session-c2.scope

ксати а кто у него родитель?
 $ ps -p 4108 -o pid,ppid,cmd
  PID  PPID CMD
 4108     1 /usr/bin/pulseaudio --start --log-target=syslog

все окей. дело  в том что scope его носителем не ялвется процесс.
если посмотреть на дерево то 
	session-c2.scope
входит выше в 
	user-1000.slice
кооторй тоже не процесс. и он идет выше в 
	user.slice
а он выше ведет в
	CGroup: /
опа.. вобщем нужно еще раздираться


