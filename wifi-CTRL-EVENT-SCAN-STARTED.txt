| wifi

есть такая супепизда.
а именно если мы пожключились к вай фай сети SSID
то эта сеть она может физически держаться на 
нескольких точках доступа AP
так вот а мы по факту щас подключены к точке1.
что будет если мы от нее далеко отойдем - верно
мы нахуй потреяем связь. так вот wpa_supplicabt 
он регулярно сканирует сеть наналичие точек доступа
и если мы отошли далеко от той к отороый плжключены
и подошли близко к другой то он нас пеерключит
это называеся BGSCAN

ПИЗДА состоит в том что когда он сканирует сука
у нас порой отваливается нахуй связь! вот такая
вот хуенная фича. мне этот фунционал нахуй ненужен.
поэтому я хочу это нахуй отключаить.
если я зашел в 

  #  wpa_cli  -g /run/wpa_supplicant/wlp2s0

то он автмоатом покажет событие о том что хост начал
сканирвать окужаюзие точки 

<3>CTRL-EVENT-SCAN-STARTED 
<3>CTRL-EVENT-SCAN-RESULTS 


если ты такое видишь то это пизда
как же эту суку выклюить. а вот как

# cat /etc/wpa_supplicant/wpa_supplicant.conf 
p2p_disabled=1
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=0
passive_scan=1
interworking=0
go_interworking=0
ap_scan=1
country=ru


autoscan=periodic:60



network={

   bgscan="simple:3600:-70:4600"  <====(****)
   ssid="iphone"
   bssid=8a:07:8a:23:04:c5
   frequency=5180
   psk="111"
   proto=WPA2
   key_mgmt=WPA-PSK
   pairwise=CCMP
   group=CCMP
   scan_ssid=1
   mode=0
   #disable_sgi=1

}



вот этатстрочка все решает

   bgscan="simple:3600:-70:4600"


она говорит о том что если уровень сигнала
упал до -70dBm то надо начать сканирвать каждые 
3600с иначе каждые 4600с (илинаобоот). в итоге
эта сука преркатит эти сканы. потому что подеуолту
он сканнирует каждые 10-30с  и в итооге вай фай
отваливыается каждые 4-5 минут!
ЕДИСНВТЕНННОЕ СУПЕР ХИТРОСТЬ что строку эту 
нужно стваить ВНУТРИ секции конкретной вай фай сети!
а не в глобальную настройку иначе НИХУЯ НЕ СРАБОТАЕТ
ЭТА СУКА
обязательно внутрь секции конкнтеной вай фай сети!



