| DNS
| dig
| TLS
| HTTPS


значит когда то был простой лоховской DNS через порт 53 UDP\TCP
он не имел никакой защиты

после додумали DNSSEC  он работает через тот же 53 TCP\UDP 
он вот что делает - он коненту который в наш комп прилетает прилепляет цифровую подпись.
поэтому обеспечивается достоверность данных и целостность данных. но не конфиденциальности.
тоесть щифрования. если мы гоорим про цифрую подпись то значит на нашем компе должен оказаться
публичный ключ dns серверера. причем он должен быть достоверным. как и откуда он берется
на нашем компе непонятно. 

следущий шаг это DNS over TLS. это уже получается днс с использованием шифрования. 
работает через 853/TCP

еще есть DHS over HTTPS (сокращенно DOH) тоесть снаружи у нас TLS а внутри HTTP . работает через 443/TCP
соотвественнно этот способ тоже обеспечивает шифрование.

спрашивается зачем городили эти две системы. ведь они обе шифруют. а ответ такой что 
одну сситему делали одни а вторую другие. вот и все. 

DOH имеет тот плюс что провайдеры могут нахер все закрыть. а HTTPS останется. и через него
можно получать достоверный DNS

самые известные пулбличные DNS сервера это гугловские 8.8.8.8
и cloudflare 1.1.1.1

клаудфдеер трясет себя пяткой в грудь что у них быстрее они откликаются. 


теперь как это все на практике.

во первых где в линуксе настраивется  адрес dns сервера к которому обращается так называемый
dns клиент или резолвер. обычно щас резоллвером в линуксе явялется 

	systemd-resolved

и его конфиг лежит в 

	/etc/systemd/resolved.conf


и там вот такие строки

DNS=1.1.1.1
DNSSEC=on
DNSOverTLS=yes

чтобы натройки вступлив в силу

	# systemctl restart systemd-resolved
 
как можно проверить текущий статус
какой там адрес dns сервера щас установлен в системе

	$ resolvectl
Global
           Protocols: -LLMNR -mDNS +DNSOverTLS DNSSEC=yes/supported
    resolv.conf mode: foreign
  Current DNS Server: 1.1.1.1
         DNS Servers: 1.1.1.1




далее в манжаро ставим dig вот так

	# pacman -Sy bind


